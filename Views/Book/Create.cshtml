@model BookFormModel;

@{
    ViewData["Title"] = "Adding New Book";
}

<form class="container mx-xs-2 p-md-4 p-3 col-md-6 mt-3 rounded" asp-action="CreateBook" enctype="multipart/form-data" asp-controller="Book" method="post">
    <div class="mt-2">
        <div class="col-lg-8 mx-auto">
            <a class="underline text-muted" asp-controller="Book" asp-action="Index">back</a> 
            <h1 class="mt-3">Add new book</h1>
            <div class="form-group mb-2">
                <label>
                    Book Title
                </label>
                <input required asp-for="Title" type="text" class="form-control" />
            </div>
            <div class="form-group mb-2">
                <label>
                    Book Author
                </label>
                <input required asp-for="Author" type="text" class="form-control" />
            </div>
            <div class="form-group mb-2">
                <label>
                    Book Genre
                </label>
                <input required asp-for="Genre" type="text" class="form-control" />
            </div>
            <div class="form-group mb-2">
                <label>
                    Book ISBN
                </label>
                <input required asp-for="ISBN" type="text" class="form-control" />
            </div>
             <div class="form-group mb-2">
                <label>
                    Date Published
                </label>
                <input required asp-for="DatePublished" type="date" id="date" max="" class="form-control" />
            </div>
            <div class="form-group mb-2">
                <label>
                    Book Cover
                </label> 
                <div class="input-group mb-3 border rounded-3 p-2">
                    <div class="custom-file">
                        <input asp-for="ImageFile" type="file">
                    </div> 
                </div>
            </div>
             <div class="d-flex justify-content-end gap-2"> 
                <button type="submit" class="btn btn-primary">Create Book</button>
                <a asp-action="Index" asp-controller="Book" class="btn btn-danger">Cancel</a> 
            </div>
            
        </div>
    </div>
</form>
<script>
    // Get today's date in the format YYYY-MM-DD
    const today = new Date().toISOString().split('T')[0];
    // Set the max attribute of the date input to today's date
    document.getElementById('date').setAttribute('max', today);
</script>